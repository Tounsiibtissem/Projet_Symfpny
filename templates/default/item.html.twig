{% extends 'layout.html.twig' %}

{% block title %}Hello DefaultController!{% endblock %}

{% block body %}
    {% for product in products %}
        <div class="col mb-5">
            <div class="card h-100">
                <img class="card-img-top" src="/uploads/{{ product.image }}" alt="..." />
                <div class="card-body p-4">
                    <div class="text-center">
                        <h5 class="fw-bolder">{{ product.name }}</h5>
                        {{ product.price }}
                    </div>
                </div>
                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                    <div class="text-center">
                        <a class="btn btn-outline-dark mt-auto" href="{{ path('app_item_product_show', {'id': product.id}) }}">View options</a>
                        <a href="#" class="btn btn-primary" onclick="event.preventDefault(); document.getElementById('add-to-cart-{{ product.id }}').submit();">Ajouter au panier</a>
                        <form id="add-to-cart-{{ product.id }}" action="{{ path('app_lignede_commande_add', { id: product.id }) }}" method="POST" style="display: none;">
                            <input type="hidden" name="_token" value="{{ csrf_token('add_to_cart') }}">
                        </form>

                    </div>
                </div>
            </div>
        </div>


    {% endfor %}

{% endblock %}
